import{_ as j}from"./nuxt-icon.vue.ce8451ce.js";import{_ as G}from"./nuxt-link.63582e19.js";import{o,f as a,i as t,v,h as _,z as q,B as M,t as B,b as z,e as A,x as N,m as L,F as S,r as E,y as O,c as F,u as l,j as H,a as U,w as J,q as V,T as K,l as Q,p as W}from"./entry.946659d3.js";import{S as X}from"./swiper.min.a0334f84.js";import{_ as Y}from"./index.e04897a3.js";import{u as Z}from"./composables.fb2cf527.js";const D={class:"elements-room-card"},ee=["src"],te={class:"elements-room-card-info"},se={__name:"roomCard",props:{data:{type:Object,default:{}}},setup(n){return(i,c)=>{var s,e;const r=j,h=G;return o(),a("div",D,[t("figure",null,[t("img",{src:(e=(s=n.data.fields.key_visual)==null?void 0:s.slider[0])==null?void 0:e.url,alt:""},null,8,ee)]),t("div",te,[t("h3",null,v(n.data.title),1),_(h,{to:"/room/"+n.data.slug},{default:q(()=>[M(" 查看房型 "),_(r,{name:"arrow_right"})]),_:1},8,["to"])])])}}};const oe={class:"elements-room-list"},ne={class:"elements-room-list__title"},ae={key:0,class:"-en"},ie={key:1},le={class:"elements-room-list__item"},re={class:"elements-room-list__swiper-wrapper swiper-wrapper"},_e={class:"elements-room-list__swiper-navigation"},ce={class:"elements-room-list__swiper-navigation-text"},de=["textContent"],me=t("span",null,"/",-1),ue=["textContent"],pe={__name:"roomList",props:{data:{type:Object,default:{}}},setup(n){const i=B(),c=B(),r=B(0),h=(s,e)=>{if(s.value)return new X(s.value,{slidesPerView:"auto",spaceBetween:20,centeredSlides:s.value.querySelectorAll(".swiper-slide").length<2,on:{slideChangeTransitionEnd:function(){e.value=this.realIndex}}})};return z(()=>{A(()=>{i.value=h(c,r)})}),(s,e)=>{var x,$,C,k,T,b,R;const g=se,w=j,y=N("inview"),f=N("fade");return o(),a("div",oe,[t("div",ne,[(x=n.data)!=null&&x.title.deco_title?(o(),a("span",ae,v(($=n.data)==null?void 0:$.title.deco_title),1)):L("",!0),(C=n.data)!=null&&C.title.title?(o(),a("h3",ie,v((k=n.data)==null?void 0:k.title.title),1)):L("",!0)]),t("div",le,[(o(!0),a(S,null,E((T=n.data)==null?void 0:T.rooms,(d,m)=>O((o(),F(g,{key:m,data:d},null,8,["data"])),[[y],[f]])),128))]),t("div",{class:"elements-room-list__swiper",ref_key:"swiperRef",ref:c},[t("div",re,[(o(!0),a(S,null,E((b=n.data)==null?void 0:b.rooms,(d,m)=>(o(),a("div",{class:"elements-room-list__swiper-slide swiper-slide",key:m},[O(_(g,{data:d},null,8,["data"]),[[y],[f]])]))),128))]),t("div",_e,[t("div",{class:"elements-room-list__swiper-navigation-prev",onClick:e[0]||(e[0]=d=>l(i).slidePrev())},[_(w,{name:"arrow_right"})]),t("div",ce,[t("span",{textContent:v(l(r)+1)},null,8,de),me,t("span",{textContent:v((R=n.data)==null?void 0:R.rooms.length)},null,8,ue)]),t("div",{class:"elements-room-list__swiper-navigation-next",onClick:e[1]||(e[1]=d=>l(i).slideNext())},[_(w,{name:"arrow_right"})])])],512)])}}};const ve={class:"page-rooms"},he={class:"container"},ge={class:"page-rooms__wrap"},we=t("div",{class:"page-rooms__wrap-title"},[t("h1",null,"房型一覽"),t("span",null,"ROOMS")],-1),ye={class:"page-rooms__wrap-cate"},fe=["onClick"],xe={class:"page-rooms__wrap__room"},$e={class:"container"},Ee={__name:"index",props:{template:{type:Object,default:{}}},async setup(n){var g,w,y,f,x,$,C,k,T,b,R;let i,c;const r=H(),h=U();h.value=!0;const s=B("all"),{data:e}=([i,c]=J(()=>Q("get_page_cate",()=>$fetch(W().apiUrl+"/get_rooms_by_cate",{method:"GET"}))),i=await i,c(),i);return console.log("pageData",e.value),z(()=>{A(()=>{r.query.roomType&&(s.value=r.query.roomType)})}),Z({title:(w=(g=e==null?void 0:e.value)==null?void 0:g.data)==null?void 0:w.og_title,meta:[{property:"og:locale",content:"zh"},{name:"description",content:(f=(y=e==null?void 0:e.value)==null?void 0:y.data)==null?void 0:f.meta_description},{hid:"og:title",property:"og:title",content:($=(x=e==null?void 0:e.value)==null?void 0:x.data)==null?void 0:$.og_title},{hid:"og:description",property:"og:description",content:(k=(C=e==null?void 0:e.value)==null?void 0:C.data)==null?void 0:k.meta_description},{hid:"og:image",property:"og:image",content:(R=(b=(T=e==null?void 0:e.value)==null?void 0:T.data)==null?void 0:b.og_image)==null?void 0:R.url},{property:"og:image:width",content:"1200"},{property:"og:image:height",content:"630"}]}),(d,m)=>{const I=pe,P=Y;return o(),a("div",ve,[t("div",he,[t("div",ge,[we,t("div",ye,[t("div",{class:V(["btn",{"-active":l(s)==="all"}]),onClick:m[0]||(m[0]=u=>s.value="all")}," 所有房型 ",2),(o(!0),a(S,null,E(l(e),(u,p)=>(o(),a("div",{key:p,class:V(["btn",{"-active":l(s)===p}]),onClick:Ce=>s.value=p},v(u==null?void 0:u.title.title),11,fe))),128))])])]),t("div",xe,[t("div",$e,[_(K,{name:"list"},{default:q(()=>[(o(!0),a(S,null,E(l(e),(u,p)=>(o(),a("div",{key:p},[l(s)==="all"||l(s)===p?(o(),F(I,{key:0,data:u},null,8,["data"])):L("",!0)]))),128))]),_:1})])]),_(P)])}}};export{Ee as default};
